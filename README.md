# Foodgram Project
[Ссылка на репозиторий](https://github.com/Peygy/foodgram-st)

## Описание Проекта

Foodgram - это веб-приложение, разработанное для пользователей, которые хотят легко управлять своими рецептами, создавать списки покупок на основе выбранных рецептов и следить за обновлениями любимых авторов. Платформа позволяет пользователям публиковать свои собственные рецепты, добавлять ингредиенты в список покупок и подписываться на других пользователей.

## Технологии

Проект разработан с использованием следующих основных технологий:

*   **Backend:** Django, Django REST Framework
*   **Database:** PostgreSQL
*   **Frontend:** React
*   **Deployment/Containerization:** Docker, Docker Compose
*   **API Documentation:** Redoc

Код соответсвует PEP8. Анализ проводился инструментами flake8 и flake8-isort.

## Автор

Автор проекта - Исаков Леонид Александрович.

## Установка и Запуск

Для разворота проекта вам потребуется установленный Docker и Docker Compose.

### Клонирование репозитория

Склонируйте репозиторий на вашу локальную машину:

```bash
git clone <URL репозитория>
cd foodgram-st
```

### Переменные окружения

Создайте файл `.env` в корневой директории проекта, скопировав содержимое из `env.testexpl`. Обязательно замените placeholder значения на ваши собственные для корректной работы приложения.

```bash
cp env.testexpl .env
```

Отредактируйте файл `.env`, указав следующие основные переменные:

*   `SECRET_KEY`: Секретный ключ Django
*   `DEBUG`: Режим отладки (True/False)
*   `ALLOWED_HOSTS`: Разрешенные хосты для вашего приложения (через запятую)
*   `POSTGRES_DB`: Имя базы данных
*   `POSTGRES_USER`: Пользователь базы данных
*   `POSTGRES_PASSWORD`: Пароль пользователя базы данных
*   `DB_HOST`: Хост базы данных (например, `db` для Docker Compose)
*   `DB_PORT`: Порт базы данных

### Локальный разворот

Для локального разворота проекта с использованием Docker Compose выполните следующую команду в корневой директории проекта:

```bash
docker-compose -f ./docker-compose.deploy.yml up --build -d
```

Миграции базы данных и статические файлы автоматически применятся после разворачивания (функционал прописан в Dockerfile'ах)

Приложение будет доступно по адресу: [http://localhost](http://localhost)

### Удаленный разворот

Удаленный разворот предполагает наличие сервера с установленным Docker и Docker Compose. Общий процесс включает:

1.  Подключение к вашему серверу по SSH.
2.  Клонирование репозитория на сервер.
3.  Создание и настройка файла `.env` на сервере.
4.  Запуск контейнеров Docker Compose, как описано для локального разворота.
5.  Настройка веб-сервера (например, Nginx) для проксирования запросов к приложению Docker-контейнера и настройка SSL-сертификатов (эти шаги зависят от вашей конфигурации сервера и выходят за рамки данного README).

```bash
# Пример команд на сервере
git clone <URL репозитория>
cd foodgram-st
cp env.testexpl .env
# Отредактировать .env на сервере
docker-compose -f ./docker-compose.deploy.yml up --build -d
```

## Доступ к Приложению

*   **Главная страница:** [http://localhost](http://localhost) (или ваш домен)
*   **Административная панель:** [http://localhost/admin](http://localhost/admin) (или ваш_домен/admin)
*   **Документация API (Redoc):** [http://localhost/api/docs/](http://localhost/api/docs/) (или ваш_домен/api/docs/)

## Создание Суперпользователя (Администратора)

Для доступа к административной панели вам потребуется учетная запись суперпользователя. Выполните следующие команды:

1.  Войдите в контейнер backend:
    ```bash
    docker exec -it backend sh
    ```

2.  Создайте суперпользователя, следуя инструкциям в терминале:
    ```bash
    python manage.py createsuperuser
    ```

## Тестирование API

Инструкции по тестированию API с использованием Postman находятся в файле `./postman_collection/README.md`.
